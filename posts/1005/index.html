
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Pan&#39;s websit">
    <title>Debian的初始化 - Pan&#39;s websit</title>
    <meta name="author" content="Sean Pan">
    
        <meta name="keywords" content="hexo,javascript">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Sean Pan","sameAs":["https://www.zhihu.com/people/gu-ao-de-zhan-dou-zhe","https://music.163.com/#/user/home?id=70816221","https://github.com/panxiuwen/","https://gitee.com/sean982202733/","mailto:panxiuwen_sean@qq.com"],"image":"mitu.jpg"},"articleBody":"Debian是较为常用的GNU&#x2F;Linux的一个分支，有众多衍生版本，本文也可作为其他Linux系统的参考\n\n\n\n\n安装前的准备请不要直接将ISO解压到U盘里安装，使用Ventoy(推荐)或UltraISO创建硬盘镜像，否则将导致无法启用UEFI功能，会在没有CSM功能的主板上安装完毕后找不到启动设备。如果连接国内源特别慢的情况(在电信网上出现过，移动网未出现过)，可以使用全量版系统并拔掉网线安装。\n安装过程安装时语言应该选英文，否则安装后中文一定会出现乱码，安装软件一定要选择SSH Server，标准系统工具，不建议安装桌面，注意安装的时候换国内源，否则安装会特别慢，并且会导致安装失败安装完成若找不到启动项，在Bios里手动添加efiFile Browser Add Boot Option -你的设备-EFI - Debian- grub64.efi - 输入名字\n安装完成解决运行什么命令都command not find的问题\n12nano .bashrcexport PATH=$PATH:/usr/sbin\n禁用poweroff\t&#x2F;&#x2F;避免自己脑子瓦特\n1alias poweroff=&quot;poweroff -w&quot;\n使修改生效\n1source .bashrc\n如果安装未选择ssh，可以手动安装\n1apt install openssh-server\n安装后中文乱码\n123apt-get install localesdpkg-reconfigure locales勾选en_US.UTF-8 UTF-8，其他不勾选，保存退出\n设置管理员密码\n1passwd root\n修改用户密码\n1passwd pi\n允许root登录SSH\n12nano /etc/ssh/sshd_configPermitRootLogin yes\n不允许x11转发\n1X11Forwarding no\n重启ssh服务生效\n1systemctl restart ssh\n\n安装软件如果提示缺少xxx，就访问Debianpkgs搜索缺少的文件就能找出未安装的依赖一些必要软件\n1apt-get install curl gnupg net-tools\n安装Python3&amp;GCC\n1apt-get install python3-pip python3-dev libffi-dev gcc make\n安装带php的apache\n1apt-get install apache2 php libapache2-mod-php\n搭建云媒体库，参考云存储解决方案搭建云IDE，参考云存储解决方案安装Syncthing，参考备份软件的使用搭建Minecraft服务器，参考搭建Minecraft服务器安装ZeroTier，参考内网穿透软件搭建NovelAI前端，参考StableDiffusion服务器搭建设置ipv6DDNS，详见DNS相关内容搭建Waifu2x前端，详见Waifu2x服务器搭建配置代理服务器，详见搭建代理服务器安装Wordpress，参考使用Wordpress建站安装Webmin管理服务器，参考Linux性能监控配置自定义的服务，参考Linux配置服务配置定时任务，参考Linux配置定时任务安装文件服务器，参考搭建文件服务器安装Aria2，参考跨平台下载器的使用安装Debian驱动，参考安装Linux驱动\n卸载软件\n1234apt list --installed  //查看所有安装包apt-get purge nginx\t\t//apt-get卸载单个apt-get autoremove cuda*\t//卸载所有aptitude purge nginx\t\t//aptitude卸载\n\n如果ssh登录不执行.bashrc1nano ~/.bash_profile //写到这里就行了\n\n解决无法ping的问题编辑网络配置文件\n1nano /etc/network/interfaces\n如果是DHCP，内容为\n1234auto loauto 你的网卡iface lo inet loopbackiface 你的网卡 inet dhcp\n如果是静态地址，内容为\n123456auto lo enp4s0iface lo inet loopbackiface enp4s0 inet static        address 192.168.1.100        netmask 255.255.255.0        gateway 192.168.1.1\n编辑DNS服务器\n1nano /etc/resolv.conf\n编辑host\n1nano /etc/hosts\n重启网络服务\n1/etc/init.d/networking restart\n\n解压缩文件指令12tar.gz\ttar -xzftar.xz\ttar -xvf\n\n配置watchdog12apt-get install watchdognano /etc/default/watchdog\n12run_watchdog=1  watchdog_module=&quot;iTCO_wdt&quot;  \n开启iTCO_wdt\n123modprobe iTCO_wdtnano /var/run/watchdog.pidnano /etc/watchdog.conf\n反注释掉\n1watchdog-device         = /dev/watchdog\n开启服务\n123modprobe softdogwatchdogsystemctl enable watchdog.service\n查看服务状态(存疑)\n12ls /dev/watchdogcat /dev/watchdog\n杀死watchdog会导致重启(存疑)\n1kill -9 \n配置 screen安装screen\n1apt-get install screen\nnano .bashrc，写入下面的内容\n123alias sl=&quot;screen -ls&quot;\t\t\t\t//输入sl就可以查看运行中的screenalias sb=&quot;screen bash&quot;\t\t\t\t//输入sb就可以打开一个sreenalias sr=&#x27;func() &#123; screen -D -r $1;&#125;; func&#x27;\t//输入sr +screen_id就可以返回screen\n直接在screen里运行命令\n1screen -dm +命令\n缓存清理清理apt缓存\n123apt-get autocleanapt-get cleanapt-get autoremove\n清理pip缓存\n1rm- r ~/.cache/pip\n清除cache\n1echo 2 &gt; /proc/sys/vm/drop_caches\n\n常见命令创建软连接，可链接文件或文件夹\n1ln /mnt/hdd/hym/音乐相关 /var/www/html/mu/music -s\n查看磁盘占用\n12du -h --max-depth=1 //以文件夹形式查看df -h\t\t\t\t//以分区查看\n查看时间\n1date\n设置时区\n1cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n给权限\n1chmod 777 n.sh\n\n挂载硬盘安装硬盘SMART监视工具\n1apt-get install smartmontools\n查找磁盘：\n1fdisk -l\n挂载硬盘\n12mkdir /mnt/diskmount /dev/sda1 /mnt/disk\n卸载硬盘\n1umount /dev/sda1\n开机自动挂载磁盘\n123blkid /dev/sda3\t#查询sda3的UUIDnano /etc/fstab #在文件后面添加配置UUID=XXX /dev/sda3 /mnt/abc/\text4\tdefaults\t0\t0\n\nACPI相关合上盖子无操作\n1nano /etc/systemd/logind.conf\n追加此代码\n1HandleLidSwitch=ignore\n\n性能调节器查看调节器\n1cat /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor\n调整调节器\n123echo performance &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor\t\t//性能模式echo powersave &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor\t\t//节能模式echo ondemand &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor\t\t//平衡模式\n\n网络代理设置代理，详见搭建代理服务器\n1234nano /etc/apt/apt-proxy.confAcquire::http::proxy &quot;http://192.168.1.5:2333/&quot;;Acquire::https::proxy &quot;http://192.168.1.5:2333/&quot;;apt-get update -c /etc/apt/apt-proxy.conf\n错误排查更新软件\n1apt upgrade\n修复apt\n12apt --fix-broken installapt-get update --fix-missing\n查看端口占用\n1lsof -i:2333\nWOL注意关闭快速启动安装ethtool\n1apt-get install ethtool\n假设网卡叫enp4s0(ifconfig查询)，运行命令\n1ethtool enp4s0\n查看到就算支持，\n1Supports Wake-on: pumbg\n如果是ug就不支持\n1Supports Wake-on: ug\n如果看到g，就是启用的\n1Wake-on: g\n如果显示为d\n1Wake-on: d\n则手动启用\n1ethtool -s enp4s0 wol g\n如果重启后失效，可使用脚本启动\n1nano /etc/network/interfaces.d/enp4s0\n写入下面内容\n123auto enp4s0iface enp4s0 inet dhcp        ethernet-wol g\n唤醒其他机器\n12apt install etherwakewakeonlan -i 192.168.1.255 50:eb:f6:97:00:fd\n\nUbuntu相关Ubuntu源：\n12http://mirrors.aliyun.com/ubuntu/https://mirrors.tuna.tsinghua.edu.cn/ubuntu/\nDebian源：\n12345678deb https://mirrors.aliyun.com/debian/ bullseye main non-free contribdeb-src https://mirrors.aliyun.com/debian/ bullseye main non-free contribdeb https://mirrors.aliyun.com/debian-security/ bullseye-security maindeb-src https://mirrors.aliyun.com/debian-security/ bullseye-security maindeb https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contribdeb-src https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contribdeb https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contribdeb-src https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib\n如果换源后报错The certificate is NOT trusted\n12touch /etc/apt/apt.conf.d/99verify-peer.conf \\&amp;&amp; echo &gt;&gt;/etc/apt/apt.conf.d/99verify-peer.conf &quot;Acquire &#123; https::Verify-Peer false &#125;&quot;\n\n香橙派相关连接串口后CH340的串口波特率为115200、8、1、N、Nubuntu默认账号和密码orangepi  passwd root设置root密码armbian默认账号密码root 1234登陆成功后需要修改密码\n香橙派5 armbian相关默认账号密码是root 1234 选择bash\n1nano /etc/apt/sources.list\n追加\n1234deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-updates main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-backports main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-security main restricted universe multiverse\nCentOS相关网络安装源地址\n1http://mirrors.aliyun.com/centos/7/os/x86_64/\n模式区别\n12InfrastructureServer：服务器中使用的CentOS基本安装，不包含桌面。Basic WebServer：PHP，Web server，还有MySQL和PostgreSQL数据库的客户端，无桌面。\n安装服务器\n12345678910yum install httpdrpm -ivh http://mirrors.ustc.edu.cn/epel/epel-release-latest-7.noarch.rpmrpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpmyum install php70wservice httpd startchkconfig httpd onps -ef | grep apachefirewall-cmd --zone=public --add-port=80/tcp --permanentfirewall-cmd --reloadfirewall-cmd --list-ports\n必备软件\n1yum install python3 python3-pip cmake\n参考Debian WakeOnLan\n","dateCreated":"2018-08-15T00:00:00+08:00","dateModified":"2023-07-14T15:43:52+08:00","datePublished":"2018-08-15T00:00:00+08:00","description":"Debian是较为常用的GNU&#x2F;Linux的一个分支，有众多衍生版本，本文也可作为其他Linux系统的参考","headline":"Debian的初始化","image":["../10000/Debian.jpg"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://panxiuwen.github.io/pa/posts/1005/"},"publisher":{"@type":"Organization","name":"Sean Pan","sameAs":["https://www.zhihu.com/people/gu-ao-de-zhan-dou-zhe","https://music.163.com/#/user/home?id=70816221","https://github.com/panxiuwen/","https://gitee.com/sean982202733/","mailto:panxiuwen_sean@qq.com"],"image":"mitu.jpg","logo":{"@type":"ImageObject","url":"mitu.jpg"}},"url":"https://panxiuwen.github.io/pa/posts/1005/","keywords":"System, Linux","thumbnailUrl":"../10000/Debian.jpg"}</script>
    <meta name="description" content="Debian是较为常用的GNU&#x2F;Linux的一个分支，有众多衍生版本，本文也可作为其他Linux系统的参考">
<meta property="og:type" content="blog">
<meta property="og:title" content="Debian的初始化">
<meta property="og:url" content="https://panxiuwen.github.io/pa/posts/1005/index.html">
<meta property="og:site_name" content="Pan&#39;s websit">
<meta property="og:description" content="Debian是较为常用的GNU&#x2F;Linux的一个分支，有众多衍生版本，本文也可作为其他Linux系统的参考">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-08-14T16:00:00.000Z">
<meta property="article:modified_time" content="2023-07-14T07:43:52.318Z">
<meta property="article:author" content="Sean Pan">
<meta property="article:tag" content="System">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@982202733">
<meta property="fb:app_id" content="[object Object]">
    
        <link rel="publisher" href="https://plus.google.com/982202733"/>
    
    
        
    
    
        <meta property="og:image" content="https://panxiuwen.github.io/pa/assets/images/mitu.jpg"/>
    
    
        <meta property="og:image" content="https://panxiuwen.github.io/pa/posts/1005/../10000/Debian.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://panxiuwen.github.io/pa/posts/1005/../10000/Debian.jpg"/>
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/pa/assets/css/style-i9xrsmsdhu6y40y90anxg1hlmj1ygq01iq4idkymswvzsi6flopl4majie56.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/pa/"
            aria-label=""
        >
            Pan&#39;s websit
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="打开链接: /pa/#about"
            >
        
        
            <img class="header-picture" src="/pa/assets/images/mitu.jpg" alt="作者的图片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/pa/#about"
                    aria-label="阅读有关作者的更多信息"
                >
                    <img class="sidebar-profile-picture" src="/pa/assets/images/mitu.jpg" alt="作者的图片"/>
                </a>
                <h4 class="sidebar-profile-name">Sean Pan</h4>
                
                    <h5 class="sidebar-profile-bio"><p>不似天涯，卷起杨花似雪花</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/pa/"
                            
                            rel="noopener"
                            title="首页"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/pa/all-categories"
                            
                            rel="noopener"
                            title="分类"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/pa/all-tags"
                            
                            rel="noopener"
                            title="标签"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/pa/all-archives"
                            
                            rel="noopener"
                            title="归档"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="关于"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.zhihu.com/people/gu-ao-de-zhan-dou-zhe"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="知乎"
                        >
                        <i class="sidebar-button-icon fab fa-zhihu" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">知乎</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://music.163.com/#/user/home?id=70816221"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="网易云"
                        >
                        <i class="sidebar-button-icon fab fa-tiktok" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">网易云</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/panxiuwen/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://gitee.com/sean982202733/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Gitee"
                        >
                        <i class="sidebar-button-icon fab fa-google" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Gitee</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:panxiuwen_sean@qq.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="邮箱"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">邮箱</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Debian的初始化
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-08-15T00:00:00+08:00">
	
		    2018年 8月 15日
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/pa/categories/System/">System</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>Debian是较为常用的GNU&#x2F;Linux的一个分支，有众多衍生版本，本文也可作为其他Linux系统的参考</p>
<span id="more"></span>
<hr>
<h1 id="table-of-contents">目录</h1><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87"><span class="toc-text">安装前的准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="toc-text">安装过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90"><span class="toc-text">安装完成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6"><span class="toc-text">安装软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E6%9E%9Cssh%E7%99%BB%E5%BD%95%E4%B8%8D%E6%89%A7%E8%A1%8C-bashrc"><span class="toc-text">如果ssh登录不执行.bashrc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%97%A0%E6%B3%95ping%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">解决无法ping的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%8E%8B%E7%BC%A9%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4"><span class="toc-text">解压缩文件指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEwatchdog"><span class="toc-text">配置watchdog</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-screen"><span class="toc-text">配置 screen</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E6%B8%85%E7%90%86"><span class="toc-text">缓存清理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4"><span class="toc-text">常见命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD%E7%A1%AC%E7%9B%98"><span class="toc-text">挂载硬盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ACPI%E7%9B%B8%E5%85%B3"><span class="toc-text">ACPI相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E8%B0%83%E8%8A%82%E5%99%A8"><span class="toc-text">性能调节器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86"><span class="toc-text">网络代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E6%8E%92%E6%9F%A5"><span class="toc-text">错误排查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WOL"><span class="toc-text">WOL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ubuntu%E7%9B%B8%E5%85%B3"><span class="toc-text">Ubuntu相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%99%E6%A9%99%E6%B4%BE%E7%9B%B8%E5%85%B3"><span class="toc-text">香橙派相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%99%E6%A9%99%E6%B4%BE5-armbian%E7%9B%B8%E5%85%B3"><span class="toc-text">香橙派5 armbian相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CentOS%E7%9B%B8%E5%85%B3"><span class="toc-text">CentOS相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-text">参考</span></a></li></ol>
<hr>
<h3 id="安装前的准备"><a href="#安装前的准备" class="headerlink" title="安装前的准备"></a>安装前的准备</h3><p>请不要直接将ISO解压到U盘里安装，使用Ventoy(推荐)或UltraISO创建硬盘镜像，否则将导致无法启用UEFI功能，会在没有CSM功能的主板上安装完毕后找不到启动设备。如果连接国内源特别慢的情况(在电信网上出现过，移动网未出现过)，可以使用全量版系统并拔掉网线安装。</p>
<h3 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h3><p>安装时语言应该选英文，否则安装后中文一定会出现乱码，安装软件一定要选择SSH Server，标准系统工具，不建议安装桌面，注意安装的时候换国内源，否则安装会特别慢，并且会导致安装失败<br>安装完成若找不到启动项，在Bios里手动添加efi<br>File Browser Add Boot Option -你的设备-EFI - Debian- grub64.efi - 输入名字</p>
<h3 id="安装完成"><a href="#安装完成" class="headerlink" title="安装完成"></a>安装完成</h3><p>解决运行什么命令都command not find的问题</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nano .bashrc</span><br><span class="line">export PATH=$PATH:/usr/sbin</span><br></pre></td></tr></table></figure>
<p>禁用poweroff	&#x2F;&#x2F;避免自己脑子瓦特</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias poweroff=&quot;poweroff -w&quot;</span><br></pre></td></tr></table></figure>
<p>使修改生效</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source .bashrc</span><br></pre></td></tr></table></figure>
<p>如果安装未选择ssh，可以手动安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install openssh-server</span><br></pre></td></tr></table></figure>
<p>安装后中文乱码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get install locales</span><br><span class="line">dpkg-reconfigure locales</span><br><span class="line">勾选en_US.UTF-8 UTF-8，其他不勾选，保存退出</span><br></pre></td></tr></table></figure>
<p>设置管理员密码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd root</span><br></pre></td></tr></table></figure>
<p>修改用户密码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd pi</span><br></pre></td></tr></table></figure>
<p>允许root登录SSH</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/ssh/sshd_config</span><br><span class="line">PermitRootLogin yes</span><br></pre></td></tr></table></figure>
<p>不允许x11转发</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X11Forwarding no</span><br></pre></td></tr></table></figure>
<p>重启ssh服务生效</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart ssh</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="安装软件"><a href="#安装软件" class="headerlink" title="安装软件"></a>安装软件</h3><p>如果提示缺少xxx，就访问<a target="_blank" rel="noopener" href="https://debian.pkgs.org/">Debianpkgs</a>搜索缺少的文件就能找出未安装的依赖<br>一些必要软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install curl gnupg net-tools</span><br></pre></td></tr></table></figure>
<p>安装Python3&amp;GCC</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install python3-pip python3-dev libffi-dev gcc make</span><br></pre></td></tr></table></figure>
<p>安装带php的apache</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install apache2 php libapache2-mod-php</span><br></pre></td></tr></table></figure>
<p>搭建云媒体库，参考<a href="/p1/posts/1007/">云存储解决方案</a><br>搭建云IDE，参考<a href="/p1/posts/1007/">云存储解决方案</a><br>安装Syncthing，参考<a href="/p1/posts/1010/">备份软件的使用</a><br>搭建Minecraft服务器，参考<a href="/p1/posts/2006/">搭建Minecraft服务器</a><br>安装ZeroTier，参考<a href="/p1/posts/2007/">内网穿透软件</a><br>搭建NovelAI前端，参考<a href="/p1/posts/2008/">StableDiffusion服务器搭建</a><br>设置ipv6DDNS，详见<a href="/p1/posts/2010/">DNS相关内容</a><br>搭建Waifu2x前端，详见<a href="/p1/posts/2011/">Waifu2x服务器搭建</a><br>配置代理服务器，详见<a href="/p1/posts/2015/">搭建代理服务器</a><br>安装Wordpress，参考<a href="/p1/posts/2018/">使用Wordpress建站</a><br>安装Webmin管理服务器，参考<a href="/p1/posts/2019">Linux性能监控</a><br>配置自定义的服务，参考<a href="/p1/posts/4001/">Linux配置服务</a><br>配置定时任务，参考<a href="/p1/posts/4002/">Linux配置定时任务</a><br>安装文件服务器，参考<a href="/p1/posts/4003/">搭建文件服务器</a><br>安装Aria2，参考<a href="/p1/posts/4006/">跨平台下载器的使用</a><br>安装Debian驱动，参考<a href="/p1/posts/4013/">安装Linux驱动</a></p>
<p>卸载软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt list --installed  //查看所有安装包</span><br><span class="line">apt-get purge nginx		//apt-get卸载单个</span><br><span class="line">apt-get autoremove cuda*	//卸载所有</span><br><span class="line">aptitude purge nginx		//aptitude卸载</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="如果ssh登录不执行-bashrc"><a href="#如果ssh登录不执行-bashrc" class="headerlink" title="如果ssh登录不执行.bashrc"></a>如果ssh登录不执行.bashrc</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano ~/.bash_profile //写到这里就行了</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="解决无法ping的问题"><a href="#解决无法ping的问题" class="headerlink" title="解决无法ping的问题"></a>解决无法ping的问题</h3><p>编辑网络配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/network/interfaces</span><br></pre></td></tr></table></figure>
<p>如果是DHCP，内容为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">auto lo</span><br><span class="line">auto 你的网卡</span><br><span class="line">iface lo inet loopback</span><br><span class="line">iface 你的网卡 inet dhcp</span><br></pre></td></tr></table></figure>
<p>如果是静态地址，内容为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">auto lo enp4s0</span><br><span class="line">iface lo inet loopback</span><br><span class="line">iface enp4s0 inet static</span><br><span class="line">        address 192.168.1.100</span><br><span class="line">        netmask 255.255.255.0</span><br><span class="line">        gateway 192.168.1.1</span><br></pre></td></tr></table></figure>
<p>编辑DNS服务器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/resolv.conf</span><br></pre></td></tr></table></figure>
<p>编辑host</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/hosts</span><br></pre></td></tr></table></figure>
<p>重启网络服务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/networking restart</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="解压缩文件指令"><a href="#解压缩文件指令" class="headerlink" title="解压缩文件指令"></a>解压缩文件指令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar.gz	tar -xzf</span><br><span class="line">tar.xz	tar -xvf</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="配置watchdog"><a href="#配置watchdog" class="headerlink" title="配置watchdog"></a>配置watchdog</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install watchdog</span><br><span class="line">nano /etc/default/watchdog</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">run_watchdog=1  </span><br><span class="line">watchdog_module=&quot;iTCO_wdt&quot;  </span><br></pre></td></tr></table></figure>
<p>开启iTCO_wdt</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">modprobe iTCO_wdt</span><br><span class="line">nano /var/run/watchdog.pid</span><br><span class="line">nano /etc/watchdog.conf</span><br></pre></td></tr></table></figure>
<p>反注释掉</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watchdog-device         = /dev/watchdog</span><br></pre></td></tr></table></figure>
<p>开启服务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">modprobe softdog</span><br><span class="line">watchdog</span><br><span class="line">systemctl enable watchdog.service</span><br></pre></td></tr></table></figure>
<p>查看服务状态(存疑)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls /dev/watchdog</span><br><span class="line">cat /dev/watchdog</span><br></pre></td></tr></table></figure>
<p>杀死watchdog会导致重启(存疑)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 </span><br></pre></td></tr></table></figure>
<h3 id="配置-screen"><a href="#配置-screen" class="headerlink" title="配置 screen"></a>配置 screen</h3><p>安装screen</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install screen</span><br></pre></td></tr></table></figure>
<p>nano .bashrc，写入下面的内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alias sl=&quot;screen -ls&quot;				//输入sl就可以查看运行中的screen</span><br><span class="line">alias sb=&quot;screen bash&quot;				//输入sb就可以打开一个sreen</span><br><span class="line">alias sr=&#x27;func() &#123; screen -D -r $1;&#125;; func&#x27;	//输入sr +screen_id就可以返回screen</span><br></pre></td></tr></table></figure>
<p>直接在screen里运行命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -dm +命令</span><br></pre></td></tr></table></figure>
<h3 id="缓存清理"><a href="#缓存清理" class="headerlink" title="缓存清理"></a>缓存清理</h3><p>清理apt缓存</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get autoclean</span><br><span class="line">apt-get clean</span><br><span class="line">apt-get autoremove</span><br></pre></td></tr></table></figure>
<p>清理pip缓存</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm- r ~/.cache/pip</span><br></pre></td></tr></table></figure>
<p>清除cache</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo 2 &gt; /proc/sys/vm/drop_caches</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="常见命令"><a href="#常见命令" class="headerlink" title="常见命令"></a>常见命令</h3><p>创建软连接，可链接文件或文件夹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln /mnt/hdd/hym/音乐相关 /var/www/html/mu/music -s</span><br></pre></td></tr></table></figure>
<p>查看磁盘占用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">du -h --max-depth=1 //以文件夹形式查看</span><br><span class="line">df -h				//以分区查看</span><br></pre></td></tr></table></figure>
<p>查看时间</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date</span><br></pre></td></tr></table></figure>
<p>设置时区</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure>
<p>给权限</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 n.sh</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="挂载硬盘"><a href="#挂载硬盘" class="headerlink" title="挂载硬盘"></a>挂载硬盘</h3><p>安装硬盘SMART监视工具</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install smartmontools</span><br></pre></td></tr></table></figure>
<p>查找磁盘：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure>
<p>挂载硬盘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /mnt/disk</span><br><span class="line">mount /dev/sda1 /mnt/disk</span><br></pre></td></tr></table></figure>
<p>卸载硬盘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount /dev/sda1</span><br></pre></td></tr></table></figure>
<p>开机自动挂载磁盘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">blkid /dev/sda3	#查询sda3的UUID</span><br><span class="line">nano /etc/fstab #在文件后面添加配置</span><br><span class="line">UUID=XXX /dev/sda3 /mnt/abc/	ext4	defaults	0	0</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="ACPI相关"><a href="#ACPI相关" class="headerlink" title="ACPI相关"></a>ACPI相关</h3><p>合上盖子无操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/systemd/logind.conf</span><br></pre></td></tr></table></figure>
<p>追加此代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HandleLidSwitch=ignore</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="性能调节器"><a href="#性能调节器" class="headerlink" title="性能调节器"></a>性能调节器</h3><p>查看调节器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor</span><br></pre></td></tr></table></figure>
<p>调整调节器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo performance &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor		//性能模式</span><br><span class="line">echo powersave &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor		//节能模式</span><br><span class="line">echo ondemand &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor		//平衡模式</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="网络代理"><a href="#网络代理" class="headerlink" title="网络代理"></a>网络代理</h3><p>设置代理，详见<a href="/p1/posts/2015/">搭建代理服务器</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/apt/apt-proxy.conf</span><br><span class="line">Acquire::http::proxy &quot;http://192.168.1.5:2333/&quot;;</span><br><span class="line">Acquire::https::proxy &quot;http://192.168.1.5:2333/&quot;;</span><br><span class="line">apt-get update -c /etc/apt/apt-proxy.conf</span><br></pre></td></tr></table></figure>
<h3 id="错误排查"><a href="#错误排查" class="headerlink" title="错误排查"></a>错误排查</h3><p>更新软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt upgrade</span><br></pre></td></tr></table></figure>
<p>修复apt</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt --fix-broken install</span><br><span class="line">apt-get update --fix-missing</span><br></pre></td></tr></table></figure>
<p>查看端口占用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsof -i:2333</span><br></pre></td></tr></table></figure>
<h3 id="WOL"><a href="#WOL" class="headerlink" title="WOL"></a>WOL</h3><p>注意关闭快速启动<br>安装ethtool</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install ethtool</span><br></pre></td></tr></table></figure>
<p>假设网卡叫enp4s0(ifconfig查询)，运行命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ethtool enp4s0</span><br></pre></td></tr></table></figure>
<p>查看到就算支持，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Supports Wake-on: pumbg</span><br></pre></td></tr></table></figure>
<p>如果是ug就不支持</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Supports Wake-on: ug</span><br></pre></td></tr></table></figure>
<p>如果看到g，就是启用的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Wake-on: g</span><br></pre></td></tr></table></figure>
<p>如果显示为d</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Wake-on: d</span><br></pre></td></tr></table></figure>
<p>则手动启用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ethtool -s enp4s0 wol g</span><br></pre></td></tr></table></figure>
<p>如果重启后失效，可使用脚本启动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/network/interfaces.d/enp4s0</span><br></pre></td></tr></table></figure>
<p>写入下面内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">auto enp4s0</span><br><span class="line">iface enp4s0 inet dhcp</span><br><span class="line">        ethernet-wol g</span><br></pre></td></tr></table></figure>
<p>唤醒其他机器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt install etherwake</span><br><span class="line">wakeonlan -i 192.168.1.255 50:eb:f6:97:00:fd</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Ubuntu相关"><a href="#Ubuntu相关" class="headerlink" title="Ubuntu相关"></a>Ubuntu相关</h3><p>Ubuntu源：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://mirrors.aliyun.com/ubuntu/</span><br><span class="line">https://mirrors.tuna.tsinghua.edu.cn/ubuntu/</span><br></pre></td></tr></table></figure>
<p>Debian源：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.aliyun.com/debian/ bullseye main non-free contrib</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian/ bullseye main non-free contrib</span><br><span class="line">deb https://mirrors.aliyun.com/debian-security/ bullseye-security main</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian-security/ bullseye-security main</span><br><span class="line">deb https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib</span><br><span class="line">deb https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib</span><br></pre></td></tr></table></figure>
<p>如果换源后报错The certificate is NOT trusted</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch /etc/apt/apt.conf.d/99verify-peer.conf \</span><br><span class="line">&amp;&amp; echo &gt;&gt;/etc/apt/apt.conf.d/99verify-peer.conf &quot;Acquire &#123; https::Verify-Peer false &#125;&quot;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="香橙派相关"><a href="#香橙派相关" class="headerlink" title="香橙派相关"></a>香橙派相关</h3><p>连接串口后CH340的串口波特率为115200、8、1、N、N<br>ubuntu默认账号和密码orangepi  <code>passwd root</code>设置root密码<br>armbian默认账号密码root 1234登陆成功后需要修改密码</p>
<h3 id="香橙派5-armbian相关"><a href="#香橙派5-armbian相关" class="headerlink" title="香橙派5 armbian相关"></a>香橙派5 armbian相关</h3><p>默认账号密码是root 1234 选择bash</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/apt/sources.list</span><br></pre></td></tr></table></figure>
<p>追加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ jammy-security main restricted universe multiverse</span><br></pre></td></tr></table></figure>
<h3 id="CentOS相关"><a href="#CentOS相关" class="headerlink" title="CentOS相关"></a>CentOS相关</h3><p>网络安装源地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://mirrors.aliyun.com/centos/7/os/x86_64/</span><br></pre></td></tr></table></figure>
<p>模式区别</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">InfrastructureServer：服务器中使用的CentOS基本安装，不包含桌面。</span><br><span class="line">Basic WebServer：PHP，Web server，还有MySQL和PostgreSQL数据库的客户端，无桌面。</span><br></pre></td></tr></table></figure>
<p>安装服务器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum install httpd</span><br><span class="line">rpm -ivh http://mirrors.ustc.edu.cn/epel/epel-release-latest-7.noarch.rpm</span><br><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</span><br><span class="line">yum install php70w</span><br><span class="line">service httpd start</span><br><span class="line">chkconfig httpd on</span><br><span class="line">ps -ef | grep apache</span><br><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br><span class="line">firewall-cmd --list-ports</span><br></pre></td></tr></table></figure>
<p>必备软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install python3 python3-pip cmake</span><br></pre></td></tr></table></figure>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a target="_blank" rel="noopener" href="https://wiki.debian.org/WakeOnLan">Debian WakeOnLan</a></p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">标签</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/pa/tags/Linux/" rel="tag">Linux</a> <a class="tag tag--primary tag--small t-none-link" href="/pa/tags/System/" rel="tag">System</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/pa/posts/4002/"
                    data-tooltip="Linux配置定时任务"
                    aria-label="上一篇: Linux配置定时任务"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/pa/posts/4003/"
                    data-tooltip="搭建文件服务器"
                    aria-label="下一篇: 搭建文件服务器"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2023 Sean Pan. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/pa/posts/4002/"
                    data-tooltip="Linux配置定时任务"
                    aria-label="上一篇: Linux配置定时任务"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/pa/posts/4003/"
                    data-tooltip="搭建文件服务器"
                    aria-label="下一篇: 搭建文件服务器"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/pa/assets/images/mitu.jpg" alt="作者的图片"/>
        
            <h4 id="about-card-name">Sean Pan</h4>
        
            <div id="about-card-bio"><p>不似天涯，卷起杨花似雪花</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Master in YNU</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Kunming China
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/pa/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/pa/assets/js/script-y2tdroxnsypccc1bsimjahafkckbzxngkr8dssdy6nartjludpjiwyoci5jv.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
